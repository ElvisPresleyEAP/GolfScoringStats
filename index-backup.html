<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>PGA Swindle - Golf Scoring App</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Critical inline CSS for GitHub Pages compatibility */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #2c5530 0%, #4a7c4e 50%, #6b8e6b 100%); min-height: 100vh; color: #333; }
        .container { max-width: 100%; margin: 0 auto; padding: 20px; }
        header { text-align: center; margin-bottom: 30px; background: rgba(255, 255, 255, 0.95); padding: 20px; border-radius: 15px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); }
        header h1 { color: #2c5530; font-size: 2.5em; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); }
        .tab-navigation { display: flex; justify-content: center; gap: 10px; margin: 15px 0; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; }
        .tab-button { padding: 12px 24px; background: #f8f9fa; color: #2c5530; border: 2px solid #e0e0e0; border-radius: 8px 8px 0 0; cursor: pointer; font-weight: bold; font-size: 14px; transition: all 0.3s ease; border-bottom: none; position: relative; bottom: -2px; }
        .tab-button:hover { background: #e8f5e8; border-color: #4a7c4e; }
        .tab-button.active { background: #4a7c4e; color: white; border-color: #4a7c4e; box-shadow: 0 4px 12px rgba(74, 124, 78, 0.3); }
        .tab-content { display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        .controls { display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap; }
        .controls button { padding: 10px 15px; background: #4a7c4e; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: background-color 0.3s; }
        .controls button:hover { background: #2c5530; }
        .table-container { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); overflow-x: auto; max-height: 70vh; overflow-y: auto; }
        table { width: 100%; border-collapse: collapse; min-width: 2000px; }
        th, td { padding: 4px 3px; text-align: center; border: 1px solid #ddd; font-size: 11px; }
        thead th { background: #2c5530; color: white; font-weight: bold; position: sticky; z-index: 10; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><input type="text" id="mainTitle" class="main-title-input" value="üèåÔ∏è PGA Swindle" style="background:transparent;border:none;color:inherit;font-size:inherit;font-weight:inherit;text-align:center;width:100%;font-family:inherit;"></h1>
            <p style="text-align: center; margin: -10px 0 15px 0; font-size: 12px; color: #666; font-style: italic;">Project owned by Kamal Dhunna</p>
            
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-button active" data-tab="scores">üìä Scores</button>
                <button class="tab-button" data-tab="money">üí∞ Money Won</button>
                <button class="tab-button" data-tab="prizes">üèÜ Swindle Prizes</button>
            </div>
            
            <div class="controls">
                <label for="bestScoreCount">Best Scores to Highlight:</label>
                <select id="bestScoreCount">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected>10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                </select>
                <button id="saveData">üíæ Save Data</button>
                <button id="loadData">üìÇ Load Data</button>
                <button id="clearData">üóëÔ∏è Clear All</button>
                <button id="shareButton">üì• Download Image</button>
            </div>
        </header>

        <!-- Scores Tab Content -->
        <div id="scoresTab" class="tab-content active">
            <div class="scores-controls" style="margin-bottom: 15px; text-align: center;">
                <button id="clearScoresData" style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-right: 10px;">üóëÔ∏è Clear Scores Data</button>
                <span style="color: white; font-size: 11px;">This will clear scores, dates, player names, and headers only</span>
            </div>
            <div class="table-container">
                <table id="scoreTable">
                    <thead>
                        <tr class="date-row">
                            <th>Date</th>
                            <!-- Date selectors will be generated by JavaScript -->
                        </tr>
                        <tr class="week-row">
                            <th>Player</th>
                            <!-- Week headers will be generated by JavaScript -->
                        </tr>
                    </thead>
                    <tbody id="scoreTableBody">
                        <!-- Player rows will be generated by JavaScript -->
                    </tbody>
                    <tfoot>
                        <tr>
                            <td><strong>Weekly Totals</strong></td>
                            <!-- Weekly totals will be calculated by JavaScript -->
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        
        <!-- Money Won Tab Content -->
        <div id="moneyTab" class="tab-content">
            <div class="money-container">
                <div class="money-controls">
                    <h3>üí∞ Money Won Tracker</h3>
                    <p>Track prize money awarded to players for weekly wins, best scores, or tournaments.</p>
                    <div style="text-align: center; margin-bottom: 15px;">
                        <button id="clearMoneyData" style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-right: 10px;">üóëÔ∏è Clear Money Data</button>
                        <span style="color: black; font-size: 11px;">This will clear all money won data only</span>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="moneyTable">
                        <thead>
                            <tr class="money-header-row">
                                <th>Player</th>
                                <th>Money Invested</th>
                                <th>Weekly Wins</th>
                                <th>Tournament Prizes</th>
                                <th style="position: relative;">
                                    <div style="display:flex;align-items:center;justify-content:space-between;">
                                        <span>Total Won</span>
                                        <button id="sortByMoneyWon" style="background:transparent;border:1px solid white;color:white;font-size:6px;padding:1px 3px;cursor:pointer;border-radius:2px;" title="Sort players by money won (highest first)">‚¨áÔ∏è</button>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="moneyTableBody">
                            <!-- Money rows will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Swindle Prizes Tab Content -->
        <div id="prizesTab" class="tab-content">
            <div class="prizes-container">
                <div class="prizes-header">
                    <h3>üèÜ Swindle Prize Structure</h3>
                    <p>Set custom prize amounts for each winning position. Enter any value (e.g., ¬£25, 50, $30) and the total prize pool will be calculated automatically.</p>
                    <div style="text-align: center; margin-bottom: 15px;">
                        <button id="clearPrizesData" style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-right: 10px;">üóëÔ∏è Clear Prizes Data</button>
                        <span style="color: black; font-size: 11px;">This will clear all prize values and weekly prize data only</span>
                    </div>
                </div>
                
                <div class="prize-categories">
                    <!-- Weekly Prizes Section -->
                    <div class="prize-section">
                        <h4>üìÖ Weekly Prizes</h4>
                        <div class="prize-inputs">
                            <div class="prize-item">
                                <label>1st Place Weekly:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="weeklyFirst" class="prize-input" data-prize="weeklyFirst" placeholder="¬£25.00">
                                    <input type="text" id="weeklyFirstWinner" class="winner-input" data-winner="weeklyFirst" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>2nd Place Weekly:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="weeklySecond" class="prize-input" data-prize="weeklySecond" placeholder="¬£15.00">
                                    <input type="text" id="weeklySecondWinner" class="winner-input" data-winner="weeklySecond" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>3rd Place Weekly:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="weeklyThird" class="prize-input" data-prize="weeklyThird" placeholder="¬£10.00">
                                    <input type="text" id="weeklyThirdWinner" class="winner-input" data-winner="weeklyThird" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>4th Place Weekly:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="weeklyFourth" class="prize-input" data-prize="weeklyFourth" placeholder="¬£5.00">
                                    <input type="text" id="weeklyFourthWinner" class="winner-input" data-winner="weeklyFourth" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>5th Place Weekly:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="weeklyFifth" class="prize-input" data-prize="weeklyFifth" placeholder="¬£2.50">
                                    <input type="text" id="weeklyFifthWinner" class="winner-input" data-winner="weeklyFifth" placeholder="Winner name">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tournament Prizes Section -->
                    <div class="prize-section">
                        <h4>üèÜ Tournament Prizes</h4>
                        <div class="prize-inputs">
                            <div class="prize-item">
                                <label>Tournament Winner:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="tournamentWinner" class="prize-input" data-prize="tournamentWinner" placeholder="¬£100.00">
                                    <input type="text" id="tournamentWinnerName" class="winner-input" data-winner="tournamentWinner" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>Tournament Runner-up:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="tournamentSecond" class="prize-input" data-prize="tournamentSecond" placeholder="¬£50.00">
                                    <input type="text" id="tournamentSecondName" class="winner-input" data-winner="tournamentSecond" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>Tournament 3rd:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="tournamentThird" class="prize-input" data-prize="tournamentThird" placeholder="¬£25.00">
                                    <input type="text" id="tournamentThirdName" class="winner-input" data-winner="tournamentThird" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>Tournament 4th:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="tournamentFourth" class="prize-input" data-prize="tournamentFourth" placeholder="¬£15.00">
                                    <input type="text" id="tournamentFourthName" class="winner-input" data-winner="tournamentFourth" placeholder="Winner name">
                                </div>
                            </div>
                            <div class="prize-item">
                                <label>Tournament 5th:</label>
                                <div class="prize-winner-row">
                                    <input type="text" id="tournamentFifth" class="prize-input" data-prize="tournamentFifth" placeholder="¬£10.00">
                                    <input type="text" id="tournamentFifthName" class="winner-input" data-winner="tournamentFifth" placeholder="Winner name">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Weekly Prize Distribution Table Section (Full Width) -->
                <div class="weekly-prize-tracker" style="margin-top: 30px; width: 100%;">
                    <h3 style="text-align: center; color: white; margin-bottom: 10px;">üìä Weekly Prize Distribution Tracker</h3>
                    <p style="text-align: center; margin-bottom: 20px; color: white;">Track prize distributions for each week. Enter prize pot and individual prizes for positions 1st through 5th.</p>
                    
                    <div class="table-container" style="max-height: 500px; overflow-y: auto; border: 2px solid #2c5530; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                        <table id="weeklyPrizeTable" style="width: 100%; border-collapse: collapse; font-size: 13px; min-width: 800px;">
                            <thead>
                                <tr style="background-color: #2c5530; color: white; position: sticky; top: 0; z-index: 10;">
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 80px; font-weight: bold;">Week</th>
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 120px; font-weight: bold;">Prize Pot</th>
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 100px; font-weight: bold;">1st Place</th>
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 100px; font-weight: bold;">2nd Place</th>
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 100px; font-weight: bold;">3rd Place</th>
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 100px; font-weight: bold;">4th Place</th>
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 100px; font-weight: bold;">5th Place</th>
                                    <th style="padding: 12px; border: 1px solid #1a3319; text-align: center; min-width: 100px; font-weight: bold; background-color: #1a3319;">Total</th>
                                </tr>
                            </thead>
                            <tbody id="weeklyPrizeTableBody">
                                <!-- Rows 1-50 will be generated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
